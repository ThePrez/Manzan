# Manzan (WIP!! DO NOT USE!!)

# Objective

Provide a gateway to making IBM i watch facilities and exit program facilities easily consumable by user applications, external resources, and/or open source technologies. Identified use cases include:
- Monitoring system events for Kafka, ELK, SMS, FluentD, Grafana Loki, or AI
- More comprehensive integration with syslog facilities
- Queryable system events
- Consolidated auditing/reporting activity. 

In short, this project aims to make IBM i more integrated with infrastructure monitoring of a heterogeneous IT infrastructure, whether on-prem or cloud.

# Architecture

![image](https://user-images.githubusercontent.com/17914061/175090455-101146e5-af3b-4681-8887-fbd308a1ec30.png)

Manzan consists of the following components:
- **Adapter**: Receives callback from system facilities and parses the individual data points out of the structures passed from the system
- **Router**: Directs the mssage to the proper publisher based on configuration settings
- **Publishers**: Transforms the message data into an appropriate format and places it in an appropriate location

There are three publishers:
- **Db2 Table Publisher**: Publishes the data into a set of Manzan-provided tables (one table for each event type). The table has autogenerated autoincrement and timestamp fields

Manzan also includes these components not included in the above graphic:
- **Apache Camel**: An Apache Camel route to publish JSON data to some new medium, for instance those identified in the use cases above
- **Base Template classes**: A set of pre-made configurations that perform common system monitoring tasks
- **Configuration manager**: Handles user configuration for all of the above. 

# Why the name "Manzan"?

(documentation forthcoming)
